<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="Graham John">
    <link rel="icon" href="images/handbellpair.png">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://handbellstadium.org/images/stadium.jpg">
    <meta property="og:url" content="https://handbellstadium.org/ebells/ebells.html">
    <meta property="og:site_name" content="eBells">
    <meta property="og:title" content="eBells">

    <title>Buy eBells</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

  </head>

  <body>

    <nav class="navbar navbar-expand-md navbar-light fixed-top" style="background-color: #e3f2fd;">
      <a class="navbar-brand" href="ebells/ebells.html"><img src="images/ebells.png" height="36px"></a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarList" aria-controls="navbarList" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarList">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" href="ebells/ebells.html">What are eBells</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="ebells/buy.html">Buy eBells</a>
          </li>
        </ul>
        <script async src="https://cse.google.com/cse.js?cx=004332315454476642900:jooqc3l3gee"></script>
        <div class="gcse-searchbox-only"></div>
      </div>
    </nav>

    <main role="main">
      <div class="container">
        <br>
        <div class="px-3 py-3 pt-md-5 pb-md-4 mx-auto">
            <h1 class="display-5 text-center"><img src="images/eBells.png" height="144px"></h2>
                <h1 class="display-5 text-center">Buying eBells</h1>
        </div>
<p><b>eBells</b> are now available <b>to order</b>. We are expecting high demand, and orders will be processed in strict order of payment
    received. eBells are time-consuming to manufacture, and we are a not-for-profit cottage industry, so inevitably
    there will be a wait of some weeks for any backlog of orders to be fulfilled.</p>
<p>.</p>
    <div class="row">
    <div class="col-2"></div>
    <div class="col-8">
  <img src="images/ebells1.jpg" class="rounded float-left" width="100%" alt="eBells">
    <p class="text-center"><i>eBells</i></p></div>
    <div class="col-2"></div>
  </div>

  <div id="smart-button-container">
    <div style="text-align: center;">
      <div style="margin-bottom: 1.25rem;">
        <p>USB Electronic handbells. Select quantity below. £7 will be added to each order for postage and packing.</p>
        <select id="item-options"><option value="2 eBells" price="90.00">2 eBells - 90.00 GBP</option><option value="4 eBells" price="180.00">4 eBells - 180.00 GBP</option><option value="6 eBells" price="270.00">6 eBells - 270.00 GBP</option><option value="8 eBells" price="360.00">8 eBells - 360.00 GBP</option><option value="Single eBell" price="45.00">Single eBell - 45.00 GBP</option></select>
        <select style="visibility: hidden" id="quantitySelect"></select>
      </div>
    <div id="paypal-button-container"></div>
    </div>
  </div>
  <script src="https://www.paypal.com/sdk/js?client-id=sb&currency=GBP" data-sdk-integration-source="button-factory"></script>
  <script>
    function initPayPalButton() {
      var shipping = 7.00;
      var itemOptions = document.querySelector("#smart-button-container #item-options");
  var quantity = parseInt();
  var quantitySelect = document.querySelector("#smart-button-container #quantitySelect");
  if (!isNaN(quantity)) {
    quantitySelect.style.visibility = "visible";
  }
  var orderDescription = 'USB Electronic handbell. Select quantity below. £7 will be added to each order for postage and packing.';
  if(orderDescription === '') {
    orderDescription = 'Item';
  }
  paypal.Buttons({
    style: {
      shape: 'pill',
      color: 'gold',
      layout: 'vertical',
      label: 'buynow',
      
    },
    createOrder: function(data, actions) {
      var selectedItemDescription = itemOptions.options[itemOptions.selectedIndex].value;
      var selectedItemPrice = parseFloat(itemOptions.options[itemOptions.selectedIndex].getAttribute("price"));
      var tax = (0 === 0) ? 0 : (selectedItemPrice * (parseFloat(0)/100));
      if(quantitySelect.options.length > 0) {
        quantity = parseInt(quantitySelect.options[quantitySelect.selectedIndex].value);
      } else {
        quantity = 1;
      }

      tax *= quantity;
      tax = Math.round(tax * 100) / 100;
      var priceTotal = quantity * selectedItemPrice + parseFloat(shipping) + tax;
      priceTotal = Math.round(priceTotal * 100) / 100;
      var itemTotalValue = Math.round((selectedItemPrice * quantity) * 100) / 100;

      return actions.order.create({
        purchase_units: [{
          description: orderDescription,
          amount: {
            currency_code: 'GBP',
            value: priceTotal,
            breakdown: {
              item_total: {
                currency_code: 'GBP',
                value: itemTotalValue,
              },
              shipping: {
                currency_code: 'GBP',
                value: shipping,
              },
              tax_total: {
                currency_code: 'GBP',
                value: tax,
              }
            }
          },
          items: [{
            name: selectedItemDescription,
            unit_amount: {
              currency_code: 'GBP',
              value: selectedItemPrice,
            },
            quantity: quantity
          }]
        }]
      });
    },
    onApprove: function(data, actions) {
      return actions.order.capture().then(function(details) {
        alert('Transaction completed by ' + details.payer.name.given_name + '!');
      });
    },
    onError: function(err) {
      console.log(err);
    },
  }).render('#paypal-button-container');
}
initPayPalButton();
  </script>
  <p>For delivery outside the UK, payment by bank transfer, or for quantities not selectable above, please contact us via email at
    <a href="mailto:ebells@changeringing.co.uk?subject=Buying%20eBells" target="_blank">ebells@changeringing.co.uk</a> for details.</p>
  <hr>

</div> <!-- /container -->

    </main>

<footer class="container">
        <div>
        <div class="float-left"><a href="ebells/ebells.html">© eBells 2020</a></div>
        <div class="float-right">
          <a href="ebells/about.html">About</a> &sdot;
          <a href="ebells/terms.html">Terms</a>
        </div>
      </div>
      <br><br>
</footer>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  </body>
</html>
